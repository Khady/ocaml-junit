<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Junit_alcotest (junit_alcotest.Junit_alcotest)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../index.html">junit_alcotest</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Junit_alcotest</span></h1></header><p>Interface to product JUnit reports for Alcotest</p><p>It tries to provide a layer as thin as possible on top of Alcotest
to allow to port existing test without writing a lot a boilerplate.</p><div class="spec val" id="val-wrap_test"><a href="#val-wrap_test" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>wrap_test : (<a href="../../junit/Junit/Testcase/index.html#type-t">Junit.Testcase.t</a> <span class="keyword">&#8209;&gt;</span> unit) <span class="keyword">&#8209;&gt;</span> unit Alcotest.test_case <span class="keyword">&#8209;&gt;</span> unit Alcotest.test_case</code></div><div class="doc"><p><code class="code">wrap_test handle_result test_cases</code> wraps test cases to create
Junit testcases and pass them to <code class="code">handle_result</code>.</p><p>Can be used with <a href="index.html#val-run">run</a> to create customized Junit testsuites if
the output of <a href="index.html#val-run_and_report">run_and_report</a> is not as expected.</p></div></div><div class="spec val" id="val-run"><a href="#val-run" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>run : ?&#8288;argv:string array <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> unit Alcotest.test list <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p><code class="code">run ?argv n t</code> is a wrapper around <span class="xref-unresolved" title="unresolved reference to &quot;Alcotest.run&quot;">Alcotest.run</span>, only setting
<code class="code">and_exit</code> to false. It is mandatory to be able to process results
after the end of the run.</p><p>Low level function. It is easier to use <a href="index.html#val-run_and_report">run_and_report</a>.</p></div></div><div class="spec type" id="type-exit"><a href="#type-exit" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>exit</code><code><span class="keyword"> = </span>unit <span class="keyword">&#8209;&gt;</span> unit</code><code></code></div><div class="doc"><p><code class="code">exit ()</code> exists with appropriate code if <a href="index.html#val-run_and_report">run_and_report</a>'s
<code class="code">and_exit</code> was <code class="code">true</code> or raise <span class="xref-unresolved" title="unresolved reference to &quot;Alcotest.Test_error&quot;">Alcotest.Test_error</span> in case of
error.</p></div></div><div class="spec val" id="val-run_and_report"><a href="#val-run_and_report" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>run_and_report : ?&#8288;and_exit:bool <span class="keyword">&#8209;&gt;</span> ?&#8288;package:string <span class="keyword">&#8209;&gt;</span> ?&#8288;timestamp:Ptime.t <span class="keyword">&#8209;&gt;</span> ?&#8288;argv:string array <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> (string<span class="keyword"> * </span>unit Alcotest.test_case list) list <span class="keyword">&#8209;&gt;</span> <a href="../../junit/Junit/Testsuite/index.html#type-t">Junit.Testsuite.t</a><span class="keyword"> * </span><a href="index.html#type-exit">exit</a></code></div><div class="doc"><p><code class="code">run name tests</code> is a wrapper around <a href="index.html#val-run">run</a> and <a href="index.html#val-wrap_test">wrap_test</a>. It
runs the tests and creates a Junit testsuite from the results.</p><p>As <span class="xref-unresolved" title="unresolved reference to &quot;Alcotest.run&quot;">Alcotest.run</span> is always called with <code class="code">and_exit = false</code> to be
able to produce a report, the behavior is emulated by the returned
<a href="index.html#type-exit">exit</a> function.</p><p>The optional argument <code class="code">and_exit</code> controls what happens when the
<a href="index.html#type-exit">exit</a> function is called. By default, <code class="code">and_exit</code> is set, which
makes the function exit with <code class="code">0</code> if everything is fine or <code class="code">1</code> if
there is an issue. If <code class="code">and_exit</code> is <code class="code">false</code>, then the function
raises <code class="code">Test_error</code> on error.</p><p><code class="code">?argv</code> is forwarded to <a href="index.html#val-run">run</a>. <code class="code">?package</code> and <code class="code">?timestamp</code> are
forwarded to <a href="../../junit/Junit/Testsuite/index.html#val-make">Junit.Testsuite.make</a>.</p></div></div></body></html>