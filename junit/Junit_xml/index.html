<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Junit_xml (junit.Junit_xml)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../index.html">junit</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Junit_xml</span></h1></header><p>Low level interface to build XML elements.</p><p>This module defines basic data types for data, attributes and
element occuring in JUnit reports.</p><p>It is based on the XSD provided in
<a href="https://github.com/windyroad/JUnit-Schema">JUnit-schema</a> git
repository.</p><p>Those are low level functions. Values like <code class="code">id</code>, <code class="code">failures</code> or
<code class="code">tests</code> will not be checked.</p><p>It allows you to build a report by hand if the facilities that are
offered by <a href="../Junit/index.html">Junit</a> do not suit your needs.</p><h3>Categories of elements and attributes</h3><p>This part defines the categories of elements and attributes.</p><h4>Attributes</h4><div class="spec type" id="type-token"><a href="#type-token" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>token</code><code><span class="keyword"> = </span>string</code><code></code></div><div class="doc"><p>https://www.w3.org/TR/xmlschema-2/#token</p><p><code class="code">Definition:</code> token represents tokenized strings. The ·value space· of
token is the set of strings that do not contain the carriage return
(#xD), line feed (#xA) nor tab (#x9) characters, that have no
leading or trailing spaces (#x20) and that have no internal
sequences of two or more spaces. The ·lexical space· of token is
the set of strings that do not contain the carriage return (#xD),
line feed (#xA) nor tab (#x9) characters, that have no leading or
trailing spaces (#x20) and that have no internal sequences of two
or more spaces. The ·base type· of token is normalizedString.</p></div></div><div class="spec type" id="type-timestamp"><a href="#type-timestamp" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>timestamp</code><code></code><code></code></div><div class="doc"></div></div><div class="spec val" id="val-timestamp"><a href="#val-timestamp" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>timestamp : Ptime.t <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-timestamp">timestamp</a></code></div><div class="doc"></div></div><h4>Elements</h4><h5>Properties</h5><div class="spec type" id="type-property"><a href="#type-property" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>property</code><code></code><code></code></div><div class="doc"></div></div><div class="spec type" id="type-properties"><a href="#type-properties" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>properties</code><code><span class="keyword"> = </span><a href="index.html#type-property">property</a> list</code><code></code></div><div class="doc"><p>Properties (e.g., environment settings) set during test execution.</p></div></div><div class="spec val" id="val-property"><a href="#val-property" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>property : name:<a href="index.html#type-token">token</a> <span class="keyword">&#8209;&gt;</span> value:string <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-property">property</a></code></div><div class="doc"></div></div><div class="spec val" id="val-property_to_xml"><a href="#val-property_to_xml" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>property_to_xml : <a href="index.html#type-property">property</a> <span class="keyword">&#8209;&gt;</span> Tyxml.Xml.elt</code></div><div class="doc"><p>Builds an XML element from a property.</p></div></div><h5>Testcases</h5><div class="spec type" id="type-error"><a href="#type-error" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>error</code><code></code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-error.message" class="anchored"><td class="def field"><a href="#type-error.message" class="anchor"></a><code>message : string option;</code></td></tr><tr id="type-error.typ" class="anchored"><td class="def field"><a href="#type-error.typ" class="anchor"></a><code>typ : string;</code></td></tr><tr id="type-error.description" class="anchored"><td class="def field"><a href="#type-error.description" class="anchor"></a><code>description : string;</code></td></tr></table><code>}</code><code></code></div><div class="doc"><p>Indicates that the test errored. An errored test is one that had
an unanticipated problem. e.g., an unchecked throwable; or a problem
with the implementation of the test. Contains as a text node
relevant data for the error, e.g., a stack trace.</p></div></div><div class="spec val" id="val-error"><a href="#val-error" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>error : ?&#8288;message:string <span class="keyword">&#8209;&gt;</span> typ:string <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-error">error</a></code></div><div class="doc"><p><code class="code">error ?message ~typ description</code> creates an error element.</p><ul class="at-tag"><li><span class="at-tag parameter">Parameter</span> <span class="module-path">message</span>: The error message. e.g., if a java exception is
thrown, the return value of getMessage().</li><li><span class="at-tag parameter">Parameter</span> <span class="module-path">typ</span>: The type of error that occured. e.g., if a java
execption is thrown the full class name of the exception.</li><li><span class="at-tag parameter">Parameter</span> <span class="module-path">description</span>: Description of the error.</li></ul></div></div><div class="spec val" id="val-error_to_xml"><a href="#val-error_to_xml" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>error_to_xml : <a href="index.html#type-error">error</a> <span class="keyword">&#8209;&gt;</span> Tyxml.Xml.elt</code></div><div class="doc"><p>Builds an XML element from a error.</p></div></div><div class="spec type" id="type-failure"><a href="#type-failure" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>failure</code><code></code><code><span class="keyword"> = </span></code><code>{</code><table class="record"><tr id="type-failure.message" class="anchored"><td class="def field"><a href="#type-failure.message" class="anchor"></a><code>message : string option;</code></td></tr><tr id="type-failure.typ" class="anchored"><td class="def field"><a href="#type-failure.typ" class="anchor"></a><code>typ : string;</code></td></tr><tr id="type-failure.description" class="anchored"><td class="def field"><a href="#type-failure.description" class="anchor"></a><code>description : string;</code></td></tr></table><code>}</code><code></code></div><div class="doc"><p>Indicates that the test failed. A failure is a test which the code
has explicitly failed by using the mechanisms for that purpose. e.g.,
via an assertEquals. Contains as a text node relevant data for the
failure, e.g., a stack trace.</p></div></div><div class="spec val" id="val-failure"><a href="#val-failure" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>failure : ?&#8288;message:string <span class="keyword">&#8209;&gt;</span> typ:string <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-failure">failure</a></code></div><div class="doc"><p><code class="code">failure ?message ~typ description</code> creates a failure element.</p><ul class="at-tag"><li><span class="at-tag parameter">Parameter</span> <span class="module-path">message</span>: The message specified in the assert.</li><li><span class="at-tag parameter">Parameter</span> <span class="module-path">typ</span>: The type of the assert.</li><li><span class="at-tag parameter">Parameter</span> <span class="module-path">description</span>: Description of the failure.</li></ul></div></div><div class="spec val" id="val-failure_to_xml"><a href="#val-failure_to_xml" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>failure_to_xml : <a href="index.html#type-failure">failure</a> <span class="keyword">&#8209;&gt;</span> Tyxml.Xml.elt</code></div><div class="doc"><p>Builds an XML element from a failure.</p></div></div><div class="spec type" id="type-result"><a href="#type-result" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>result</code><code></code><code><span class="keyword"> = </span></code><table class="variant"><tr id="type-result.Error" class="anchored"><td class="def constructor"><a href="#type-result.Error" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Error</span><span class="keyword"> of </span><a href="index.html#type-error">error</a></code></td></tr><tr id="type-result.Failure" class="anchored"><td class="def constructor"><a href="#type-result.Failure" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Failure</span><span class="keyword"> of </span><a href="index.html#type-failure">failure</a></code></td></tr><tr id="type-result.Pass" class="anchored"><td class="def constructor"><a href="#type-result.Pass" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Pass</span></code></td></tr><tr id="type-result.Skipped" class="anchored"><td class="def constructor"><a href="#type-result.Skipped" class="anchor"></a><code><span class="keyword">| </span></code><code><span class="constructor">Skipped</span></code></td><td class="doc"><p>(** Not part of the spec, but available in jenkins. *)</p></td></tr></table><code></code></div><div class="doc"></div></div><div class="spec val" id="val-result_to_xml"><a href="#val-result_to_xml" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>result_to_xml : <a href="index.html#type-result">result</a> <span class="keyword">&#8209;&gt;</span> Tyxml.Xml.elt</code></div><div class="doc"><p>Builds an XML element from a result.</p></div></div><div class="spec type" id="type-testcase"><a href="#type-testcase" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>testcase</code><code></code><code></code></div><div class="doc"></div></div><div class="spec type" id="type-testcases"><a href="#type-testcases" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>testcases</code><code><span class="keyword"> = </span><a href="index.html#type-testcase">testcase</a> list</code><code></code></div><div class="doc"></div></div><div class="spec val" id="val-testcase"><a href="#val-testcase" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>testcase : name:<a href="index.html#type-token">token</a> <span class="keyword">&#8209;&gt;</span> classname:<a href="index.html#type-token">token</a> <span class="keyword">&#8209;&gt;</span> time:float <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-result">result</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-testcase">testcase</a></code></div><div class="doc"><p>Creates a testcase.</p><ul class="at-tag"><li><span class="at-tag parameter">Parameter</span> <span class="module-path">name</span>: Name of the test method.</li><li><span class="at-tag parameter">Parameter</span> <span class="module-path">classname</span>: Full class name for the class the test method is
in.</li><li><span class="at-tag parameter">Parameter</span> <span class="module-path">time</span>: Time taken (in seconds) to execute the test.</li><li><span class="at-tag parameter">Parameter</span> <span class="module-path">result</span>: Result of the test.</li></ul></div></div><div class="spec val" id="val-testcase_to_xml"><a href="#val-testcase_to_xml" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>testcase_to_xml : <a href="index.html#type-testcase">testcase</a> <span class="keyword">&#8209;&gt;</span> Tyxml.Xml.elt</code></div><div class="doc"><p>Builds an XML element from a testcase.</p></div></div><h5>Testsuites</h5><div class="spec type" id="type-testsuite"><a href="#type-testsuite" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>testsuite</code><code></code><code></code></div><div class="doc"><p>Contains the results of executing a testsuite.</p></div></div><div class="spec type" id="type-testsuites"><a href="#type-testsuites" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>testsuites</code><code><span class="keyword"> = </span><a href="index.html#type-testsuite">testsuite</a> list</code><code></code></div><div class="doc"><p>Contains an aggregation of testsuite results.</p></div></div><div class="spec val" id="val-testsuite"><a href="#val-testsuite" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>testsuite : ?&#8288;system_out:string <span class="keyword">&#8209;&gt;</span> ?&#8288;system_err:string <span class="keyword">&#8209;&gt;</span> package:<a href="index.html#type-token">token</a> <span class="keyword">&#8209;&gt;</span> id:int <span class="keyword">&#8209;&gt;</span> name:<a href="index.html#type-token">token</a> <span class="keyword">&#8209;&gt;</span> timestamp:<a href="index.html#type-timestamp">timestamp</a> <span class="keyword">&#8209;&gt;</span> hostname:<a href="index.html#type-token">token</a> <span class="keyword">&#8209;&gt;</span> tests:int <span class="keyword">&#8209;&gt;</span> failures:int <span class="keyword">&#8209;&gt;</span> errors:int <span class="keyword">&#8209;&gt;</span> time:float <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-properties">properties</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-testcases">testcases</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-testsuite">testsuite</a></code></div><div class="doc"><p>Creates a testsuite.</p><p>Attributes</p><ul class="at-tag"><li><span class="at-tag parameter">Parameter</span> <span class="module-path">package</span>: Derived from the testsuite name in the non-aggregated
documents.</li><li><span class="at-tag parameter">Parameter</span> <span class="module-path">id</span>: Starts at 0 for the first testsuite and is incremented
by 1 for each following testsuite.</li><li><span class="at-tag parameter">Parameter</span> <span class="module-path">name</span>: Full class name of the test for non-aggregated
testsuite documents. Class name without the package for aggregated
testsuites documents.</li><li><span class="at-tag parameter">Parameter</span> <span class="module-path">timestamp</span>: When the test was executed. Timezone may not be
specified.</li><li><span class="at-tag parameter">Parameter</span> <span class="module-path">hostname</span>: Host on which the tests were executed. 'localhost'
should be used if the hostname cannot be determined.</li><li><span class="at-tag parameter">Parameter</span> <span class="module-path">tests</span>: The total number of tests in the suite.The total
number of tests in the suite.</li><li><span class="at-tag parameter">Parameter</span> <span class="module-path">failures</span>: The total number of tests in the suite that
failed. A failure is a test which the code has explicitly failed
by using the mechanisms for that purpose. e.g., via an
assertEquals.</li><li><span class="at-tag parameter">Parameter</span> <span class="module-path">errors</span>: The total number of tests in the suite that
errored. An errored test is one that had an unanticipated
problem. e.g., an unchecked throwable; or a problem with the
implementation of the test.</li><li><p><span class="at-tag parameter">Parameter</span> <span class="module-path">time</span>: Time taken (in seconds) to execute the tests in the
suite.</p><p>Elements</p></li><li><span class="at-tag parameter">Parameter</span> <span class="module-path">properties</span>: Properties (e.g., environment settings) set
during test execution.</li><li><span class="at-tag parameter">Parameter</span> <span class="module-path">testcases</span>: List of test executed.</li><li><span class="at-tag parameter">Parameter</span> <span class="module-path">system_out</span>: Data that was written to standard out while the
test was executed.</li><li><span class="at-tag parameter">Parameter</span> <span class="module-path">system_err</span>: Data that was written to standard error while
the test was executed.</li></ul></div></div><div class="spec val" id="val-testsuite_to_xml"><a href="#val-testsuite_to_xml" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>testsuite_to_xml : <a href="index.html#type-testsuite">testsuite</a> <span class="keyword">&#8209;&gt;</span> Tyxml.Xml.elt</code></div><div class="doc"><p>Builds an XML element from a testsuite.</p></div></div><div class="spec val" id="val-to_xml"><a href="#val-to_xml" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>to_xml : <a href="index.html#type-testsuites">testsuites</a> <span class="keyword">&#8209;&gt;</span> Tyxml.Xml.elt</code></div><div class="doc"><p>Builds an XML element from a list of testsuites.</p></div></div></body></html>