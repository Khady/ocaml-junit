<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Junit_xml (junit.Junit_xml)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.4"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../index.html">junit</a> &#x00BB; Junit_xml</nav><header class="odoc-preamble"><h1>Module <code><span>Junit_xml</span></code></h1><p>Low level interface to build XML elements.</p></header><nav class="odoc-toc"><ul><li><a href="#categories-of-elements-and-attributes">Categories of elements and attributes</a><ul><li><a href="#attributes">Attributes</a></li><li><a href="#elements">Elements</a><ul><li><a href="#properties">Properties</a></li><li><a href="#testcases">Testcases</a></li><li><a href="#testsuites">Testsuites</a></li></ul></li></ul></li></ul></nav><div class="odoc-content"><p>This module defines basic data types for data, attributes and element occuring in JUnit reports.</p><p>It is based on the XSD provided in <a href="https://github.com/windyroad/JUnit-Schema">JUnit-schema</a> git repository.</p><p>Those are low level functions. Values like <code>id</code>, <code>failures</code> or <code>tests</code> will not be checked.</p><p>It allows you to build a report by hand if the facilities that are offered by <a href="../Junit/index.html"><code>Junit</code></a> do not suit your needs.</p><h3 id="categories-of-elements-and-attributes"><a href="#categories-of-elements-and-attributes" class="anchor"></a>Categories of elements and attributes</h3><p>This part defines the categories of elements and attributes.</p><h4 id="attributes"><a href="#attributes" class="anchor"></a>Attributes</h4><div class="odoc-spec"><div class="spec type anchored" id="type-token"><a href="#type-token" class="anchor"></a><code><span><span class="keyword">type</span> token</span><span> = string</span></code></div><div class="spec-doc"><p>https://www.w3.org/TR/xmlschema-2/#token</p><p><code>Definition:</code> token represents tokenized strings. The ·value space· of token is the set of strings that do not contain the carriage return (#xD), line feed (#xA) nor tab (#x9) characters, that have no leading or trailing spaces (#x20) and that have no internal sequences of two or more spaces. The ·lexical space· of token is the set of strings that do not contain the carriage return (#xD), line feed (#xA) nor tab (#x9) characters, that have no leading or trailing spaces (#x20) and that have no internal sequences of two or more spaces. The ·base type· of token is normalizedString.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-timestamp"><a href="#type-timestamp" class="anchor"></a><code><span><span class="keyword">type</span> timestamp</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-timestamp"><a href="#val-timestamp" class="anchor"></a><code><span><span class="keyword">val</span> timestamp : <span><span class="xref-unresolved">Ptime</span>.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-timestamp">timestamp</a></span></code></div></div><h4 id="elements"><a href="#elements" class="anchor"></a>Elements</h4><h5 id="properties"><a href="#properties" class="anchor"></a>Properties</h5><div class="odoc-spec"><div class="spec type anchored" id="type-property"><a href="#type-property" class="anchor"></a><code><span><span class="keyword">type</span> property</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-properties"><a href="#type-properties" class="anchor"></a><code><span><span class="keyword">type</span> properties</span><span> = <span><a href="#type-property">property</a> list</span></span></code></div><div class="spec-doc"><p>Properties (e.g., environment settings) set during test execution.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-property"><a href="#val-property" class="anchor"></a><code><span><span class="keyword">val</span> property : <span><span class="label">name</span>:<a href="#type-token">token</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">value</span>:string <span class="arrow">&#45;&gt;</span></span> <a href="#type-property">property</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-property_to_xml"><a href="#val-property_to_xml" class="anchor"></a><code><span><span class="keyword">val</span> property_to_xml : <span><a href="#type-property">property</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Tyxml</span>.Xml.elt</span></code></div><div class="spec-doc"><p>Builds an XML element from a property.</p></div></div><h5 id="testcases"><a href="#testcases" class="anchor"></a>Testcases</h5><div class="odoc-spec"><div class="spec type anchored" id="type-error"><a href="#type-error" class="anchor"></a><code><span><span class="keyword">type</span> error</span><span> = </span><span>{</span></code><ol><li id="type-error.message" class="def record field anchored"><a href="#type-error.message" class="anchor"></a><code><span>message : <span>string option</span>;</span></code></li><li id="type-error.typ" class="def record field anchored"><a href="#type-error.typ" class="anchor"></a><code><span>typ : string;</span></code></li><li id="type-error.description" class="def record field anchored"><a href="#type-error.description" class="anchor"></a><code><span>description : string;</span></code></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>Indicates that the test errored. An errored test is one that had an unanticipated problem. e.g., an unchecked throwable; or a problem with the implementation of the test. Contains as a text node relevant data for the error, e.g., a stack trace.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-error"><a href="#val-error" class="anchor"></a><code><span><span class="keyword">val</span> error : <span><span class="optlabel">?message</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span class="label">typ</span>:string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-error">error</a></span></code></div><div class="spec-doc"><p><code>error ?message ~typ description</code> creates an error element.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">message</span> <p>The error message. e.g., if a java exception is thrown, the return value of getMessage().</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">typ</span> <p>The type of error that occured. e.g., if a java execption is thrown the full class name of the exception.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">description</span> <p>Description of the error.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-error_to_xml"><a href="#val-error_to_xml" class="anchor"></a><code><span><span class="keyword">val</span> error_to_xml : <span><a href="#type-error">error</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Tyxml</span>.Xml.elt</span></code></div><div class="spec-doc"><p>Builds an XML element from a error.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-failure"><a href="#type-failure" class="anchor"></a><code><span><span class="keyword">type</span> failure</span><span> = </span><span>{</span></code><ol><li id="type-failure.message" class="def record field anchored"><a href="#type-failure.message" class="anchor"></a><code><span>message : <span>string option</span>;</span></code></li><li id="type-failure.typ" class="def record field anchored"><a href="#type-failure.typ" class="anchor"></a><code><span>typ : string;</span></code></li><li id="type-failure.description" class="def record field anchored"><a href="#type-failure.description" class="anchor"></a><code><span>description : string;</span></code></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>Indicates that the test failed. A failure is a test which the code has explicitly failed by using the mechanisms for that purpose. e.g., via an assertEquals. Contains as a text node relevant data for the failure, e.g., a stack trace.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-failure"><a href="#val-failure" class="anchor"></a><code><span><span class="keyword">val</span> failure : <span><span class="optlabel">?message</span>:string <span class="arrow">&#45;&gt;</span></span> <span><span class="label">typ</span>:string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-failure">failure</a></span></code></div><div class="spec-doc"><p><code>failure ?message ~typ description</code> creates a failure element.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">message</span> <p>The message specified in the assert.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">typ</span> <p>The type of the assert.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">description</span> <p>Description of the failure.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-failure_to_xml"><a href="#val-failure_to_xml" class="anchor"></a><code><span><span class="keyword">val</span> failure_to_xml : <span><a href="#type-failure">failure</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Tyxml</span>.Xml.elt</span></code></div><div class="spec-doc"><p>Builds an XML element from a failure.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-result"><a href="#type-result" class="anchor"></a><code><span><span class="keyword">type</span> result</span><span> = </span></code><ol><li id="type-result.Error" class="def variant constructor anchored"><a href="#type-result.Error" class="anchor"></a><code><span>| </span><span><span class="constructor">Error</span> <span class="keyword">of</span> <a href="#type-error">error</a></span></code></li><li id="type-result.Failure" class="def variant constructor anchored"><a href="#type-result.Failure" class="anchor"></a><code><span>| </span><span><span class="constructor">Failure</span> <span class="keyword">of</span> <a href="#type-failure">failure</a></span></code></li><li id="type-result.Pass" class="def variant constructor anchored"><a href="#type-result.Pass" class="anchor"></a><code><span>| </span><span><span class="constructor">Pass</span></span></code></li><li id="type-result.Skipped" class="def variant constructor anchored"><a href="#type-result.Skipped" class="anchor"></a><code><span>| </span><span><span class="constructor">Skipped</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>Not part of the spec, but available in jenkins.</p><span class="comment-delim">*)</span></div></li></ol></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-result_to_xml"><a href="#val-result_to_xml" class="anchor"></a><code><span><span class="keyword">val</span> result_to_xml : <span><a href="#type-result">result</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Tyxml</span>.Xml.elt</span></code></div><div class="spec-doc"><p>Builds an XML element from a result.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-testcase"><a href="#type-testcase" class="anchor"></a><code><span><span class="keyword">type</span> testcase</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-testcases"><a href="#type-testcases" class="anchor"></a><code><span><span class="keyword">type</span> testcases</span><span> = <span><a href="#type-testcase">testcase</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-testcase"><a href="#val-testcase" class="anchor"></a><code><span><span class="keyword">val</span> testcase : 
  <span><span class="label">name</span>:<a href="#type-token">token</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">classname</span>:<a href="#type-token">token</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">time</span>:float <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-result">result</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-testcase">testcase</a></span></code></div><div class="spec-doc"><p>Creates a testcase.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">name</span> <p>Name of the test method.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">classname</span> <p>Full class name for the class the test method is in.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">time</span> <p>Time taken (in seconds) to execute the test.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">result</span> <p>Result of the test.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-testcase_to_xml"><a href="#val-testcase_to_xml" class="anchor"></a><code><span><span class="keyword">val</span> testcase_to_xml : <span><a href="#type-testcase">testcase</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Tyxml</span>.Xml.elt</span></code></div><div class="spec-doc"><p>Builds an XML element from a testcase.</p></div></div><h5 id="testsuites"><a href="#testsuites" class="anchor"></a>Testsuites</h5><div class="odoc-spec"><div class="spec type anchored" id="type-testsuite"><a href="#type-testsuite" class="anchor"></a><code><span><span class="keyword">type</span> testsuite</span></code></div><div class="spec-doc"><p>Contains the results of executing a testsuite.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-testsuites"><a href="#type-testsuites" class="anchor"></a><code><span><span class="keyword">type</span> testsuites</span><span> = <span><a href="#type-testsuite">testsuite</a> list</span></span></code></div><div class="spec-doc"><p>Contains an aggregation of testsuite results.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-testsuite"><a href="#val-testsuite" class="anchor"></a><code><span><span class="keyword">val</span> testsuite : 
  <span><span class="optlabel">?system_out</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?system_err</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">package</span>:<a href="#type-token">token</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">id</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">name</span>:<a href="#type-token">token</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">timestamp</span>:<a href="#type-timestamp">timestamp</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">hostname</span>:<a href="#type-token">token</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">tests</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">failures</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">errors</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">skipped</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">time</span>:float <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-properties">properties</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-testcases">testcases</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-testsuite">testsuite</a></span></code></div><div class="spec-doc"><p>Creates a testsuite.</p><p>Attributes</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">package</span> <p>Derived from the testsuite name in the non-aggregated documents.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">id</span> <p>Starts at 0 for the first testsuite and is incremented by 1 for each following testsuite.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">name</span> <p>Full class name of the test for non-aggregated testsuite documents. Class name without the package for aggregated testsuites documents.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">timestamp</span> <p>When the test was executed. Timezone may not be specified.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">hostname</span> <p>Host on which the tests were executed. 'localhost' should be used if the hostname cannot be determined.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">tests</span> <p>The total number of tests in the suite.The total number of tests in the suite.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">failures</span> <p>The total number of tests in the suite that failed. A failure is a test which the code has explicitly failed by using the mechanisms for that purpose. e.g., via an assertEquals.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">errors</span> <p>The total number of tests in the suite that errored. An errored test is one that had an unanticipated problem. e.g., an unchecked throwable; or a problem with the implementation of the test.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">skipped</span> <p>The total number of tests in the suite that were skipped. A skipped test is one that was not run because the conditions for running it were not met.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">time</span> <p>Time taken (in seconds) to execute the tests in the suite.</p><p>Elements</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">properties</span> <p>Properties (e.g., environment settings) set during test execution.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">testcases</span> <p>List of test executed.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">system_out</span> <p>Data that was written to standard out while the test was executed.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">system_err</span> <p>Data that was written to standard error while the test was executed.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-testsuite_to_xml"><a href="#val-testsuite_to_xml" class="anchor"></a><code><span><span class="keyword">val</span> testsuite_to_xml : <span><a href="#type-testsuite">testsuite</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Tyxml</span>.Xml.elt</span></code></div><div class="spec-doc"><p>Builds an XML element from a testsuite.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_xml"><a href="#val-to_xml" class="anchor"></a><code><span><span class="keyword">val</span> to_xml : <span><a href="#type-testsuites">testsuites</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Tyxml</span>.Xml.elt</span></code></div><div class="spec-doc"><p>Builds an XML element from a list of testsuites.</p></div></div></div></body></html>
